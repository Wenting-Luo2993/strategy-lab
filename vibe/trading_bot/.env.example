# ====================================================================
# Trading Bot Environment Configuration
# ====================================================================
# Copy this file to .env and fill in your actual values
# cp .env.example .env

# ====================================================================
# ENVIRONMENT
# ====================================================================
ENVIRONMENT=production
LOG_LEVEL=INFO

# ====================================================================
# TRADING CONFIGURATION
# ====================================================================
# Trading symbols (space or comma separated)
SYMBOLS=AAPL GOOGL MSFT

# Initial capital in USD
INITIAL_CAPITAL=10000.0

# Market type: stocks, forex, crypto
MARKET_TYPE=stocks

# Exchange: NYSE, NASDAQ, etc.
EXCHANGE=NYSE

# Position sizing (10% of capital max per position)
MAX_POSITION_SIZE=0.1

# Risk management
USE_STOP_LOSS=true
STOP_LOSS_PCT=0.02
TAKE_PROFIT_PCT=0.05

# ====================================================================
# STRATEGY CONFIGURATION (ORB - Opening Range Breakout)
# ====================================================================
# Opening range window (HH:MM format)
ORB_START_TIME=09:30
ORB_DURATION_MINUTES=5

# Signal filters
ORB_BODY_PCT_FILTER=0.5        # Minimum body percentage (0.0-1.0) for valid breakout candle
ENTRY_CUTOFF_TIME=15:00        # Stop looking for new entries after this time

# Risk management
TAKE_PROFIT_MULTIPLIER=2.0     # Take profit = ORB_Range × multiplier
STOP_LOSS_AT_LEVEL=true        # Use ORB level as stop-loss (vs ATR-based)

# Volume filter (optional confirmation)
USE_VOLUME_FILTER=false        # Require above-average volume for breakout
VOLUME_THRESHOLD=1.5           # Volume must be > average × threshold

# Market hours
MARKET_CLOSE_TIME=16:00        # Market close time (HH:MM format)

# ====================================================================
# DATA PROVIDERS
# ====================================================================
# Finnhub API Key (Get free key at https://finnhub.io/register)
FINNHUB_API_KEY=your_finnhub_api_key_here

# Yahoo Finance settings
YAHOO_RATE_LIMIT=5
YAHOO_RETRY_COUNT=3

# Data caching (30 days default)
DATA_CACHE_TTL_SECONDS=2592000

# Bar intervals to track
BAR_INTERVALS=1m 5m 15m

# ====================================================================
# TICK LOGGING (For Validation & Debugging)
# ====================================================================
# Enable logging of all Finnhub ticks to JSONL file
# Set to true to capture every tick for bar aggregation validation
LOG_FINNHUB_TICKS=false

# Directory for tick log files (default: ./data/tick_logs)
TICK_LOG_DIR=./data/tick_logs

# Automatic cleanup: Delete tick logs older than N days (default: 3 days)
# Prevents disk space issues from accumulating tick data
TICK_LOG_TTL_DAYS=3

# ====================================================================
# DATABASE
# ====================================================================
DATABASE_PATH=/app/data/trades.db

# ====================================================================
# CLOUD SYNC (Optional)
# ====================================================================
ENABLE_CLOUD_SYNC=false
SYNC_INTERVAL_SECONDS=300

# Cloud provider: azure, aws, oracle, gcp
CLOUD_PROVIDER=

# Azure Blob Storage
CLOUD_CONTAINER=
AZURE_STORAGE_CONNECTION_STRING=

# AWS S3
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_DEFAULT_REGION=us-east-1

# Oracle Cloud
# OCI_CONFIG_FILE=/home/trading/.oci/config
# OCI_PROFILE=DEFAULT

# ====================================================================
# NOTIFICATIONS
# ====================================================================
# Discord webhook URL (Create in Discord: Server Settings > Integrations > Webhooks)
DISCORD_WEBHOOK_URL=

# Notification settings
NOTIFY_ON_TRADE=true
NOTIFY_ON_ERROR=true

# ====================================================================
# APPLICATION
# ====================================================================
# Health check API port
HEALTH_CHECK_PORT=8080

# Graceful shutdown timeout (seconds)
SHUTDOWN_TIMEOUT_SECONDS=30
